/* eslint-disable no-template-curly-in-string */

// Resources configuration resolved as .js variable with extra custom logic.
// BEWARE OF MODIFICATIONS, check 'serverless print', CloudFormation template generated by 'sls package' or generate a CloudFormation ChangeSet to verify modifications
// Modifying the stack definition that results on a unwanted deletion or replacement(deletion+creation) may lead to UNRECOVERABLE DATA LOSS
module.exports = async ({ options, resolveConfigurationProperty, resolveVariable }) => {
  const stage = await resolveVariable('self:provider.stage');
  const isProd = stage === 'prod'; // custom (js) condition to switch dev/prod configurations(CloudFormation doesn't accept its native conditions usage in some properties)

  return {
    // Resources: {},
  };
};
